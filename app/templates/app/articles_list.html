{% extends 'base.html' %}

{% block content %}
<h1>Все статьи</h1>

<a href="{% url 'create_article' %}" class="btn btn-primary mb-3">Добавить статью</a>

{% if articles %}
	<div class="row">
		{% for article in articles %}
		<div class="col-md-4 mb-4">
			<div class="card h-100">
				{% if article.image %}
					<img src="{{ article.image.url }}" class="card-img-top" alt="Изображение статьи" style="max-height: 150px; object-fit: cover;">
				{% endif %}
				<div class="card-body">
					<h5 class="card-title">
						<a href="{% url 'article_detail' article.pk %}">{{ article.title }}</a>
					</h5>
					<p class="card-text">{{ article.content|truncatewords:20 }}</p>
					<small class="text-muted">Категория: {{ article.category.name }}</small>
					<p class="card-text">
						<small class="text-muted">
							Опубликовано: {{ article.published_at|date:"d.m.Y H:i" }}
						</small>
					</p>
				</div>
			</div>
		</div>
	{% endfor %}
</div>
{% else %}
	<p>Пока нет ни одной статьи.</p>
{% endif %}
{% endblock %} 